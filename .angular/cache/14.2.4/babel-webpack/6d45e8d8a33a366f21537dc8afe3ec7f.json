{"ast":null,"code":"import { ProductsActionTypes } from './products.actions';\nexport var ProductsStateEnum = /*#__PURE__*/(() => {\n  (function (ProductsStateEnum) {\n    ProductsStateEnum[\"LOADING\"] = \"Loading\";\n    ProductsStateEnum[\"LOADED\"] = \"Loaded\";\n    ProductsStateEnum[\"ERROR\"] = \"Error\";\n    ProductsStateEnum[\"INITIAL\"] = \"initial\";\n    ProductsStateEnum[\"NEW\"] = \"New\";\n    ProductsStateEnum[\"EDIT\"] = \"Edit\";\n  })(ProductsStateEnum || (ProductsStateEnum = {}));\n\n  return ProductsStateEnum;\n})();\nconst initState = {\n  products: [],\n  errorMessage: '',\n  dataState: ProductsStateEnum.INITIAL\n};\nexport function productReducers(state = initState, action) {\n  switch (action.type) {\n    case ProductsActionTypes.GET_ALL_PRODUCT:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADING\n      });\n\n    case ProductsActionTypes.GET_ALL_PRODUCT_SUCCESS:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADED,\n        products: action.payload\n      });\n\n    case ProductsActionTypes.GET_ALL_PRODUCT_ERROR:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.ERROR,\n        errorMessage: action.payload\n      });\n\n    /* GET SELECTED PRODUCTS */\n\n    case ProductsActionTypes.GET_SELECTED_PRODUCT:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADING\n      });\n\n    case ProductsActionTypes.GET_SELECTED_PRODUCT_SUCCESS:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADED,\n        products: action.payload\n      });\n\n    case ProductsActionTypes.GET_SELECTED_PRODUCT_ERROR:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.ERROR,\n        errorMessage: action.payload\n      });\n\n    /* NEW PRODUCTS */\n\n    case ProductsActionTypes.NEW_PRODUCT:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADING\n      });\n\n    case ProductsActionTypes.NEW_PRODUCT_SUCCESS:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.NEW\n      });\n\n    case ProductsActionTypes.NEW_PRODUCT_ERROR:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.ERROR,\n        errorMessage: action.payload\n      });\n\n    /* EDIT PRODUCTS */\n\n    case ProductsActionTypes.EDIT_PRODUCT:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADING\n      });\n\n    case ProductsActionTypes.NEW_PRODUCT_SUCCESS:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.EDIT\n      });\n\n    case ProductsActionTypes.NEW_PRODUCT_ERROR:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.ERROR,\n        errorMessage: action.payload\n      });\n\n    /* SAVE PRODUCTS */\n\n    case ProductsActionTypes.SAVE_PRODUCT:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADING\n      });\n\n    case ProductsActionTypes.SAVE_PRODUCT_SUCCESS:\n      const prods = [...state.products];\n      prods.push(action.payload);\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADED,\n        products: prods\n      });\n\n    case ProductsActionTypes.SAVE_PRODUCT_ERROR:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.ERROR,\n        errorMessage: action.payload\n      });\n\n    /*  SEARCH PRODUCTS */\n\n    case ProductsActionTypes.SEARCH_PRODUCT:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADING\n      });\n\n    case ProductsActionTypes.SEARCH_PRODUCT_SUCCESS:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADED,\n        products: action.payload\n      });\n\n    case ProductsActionTypes.SEARCH_PRODUCT_ERROR:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.ERROR,\n        errorMessage: action.payload\n      });\n\n    /*  SELECT / UNSELECT PRODUCTS */\n\n    case ProductsActionTypes.SELECT_PRODUCT:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADING\n      });\n\n    case ProductsActionTypes.SELECT_PRODUCT_SUCCESS:\n      const product = action.payload;\n      const listProducts = [...state.products];\n      const data = listProducts.map(p => p.id === product.id ? product : p);\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADED,\n        products: data\n      });\n\n    case ProductsActionTypes.SELECT_PRODUCT_ERROR:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.ERROR,\n        errorMessage: action.payload\n      });\n\n    /*  DELETE PRODUCT */\n\n    case ProductsActionTypes.DELETE_PRODUCT:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADING\n      });\n\n    case ProductsActionTypes.DELETE_PRODUCT_SUCCESS:\n      const prdct = action.payload;\n      const index = state.products.indexOf(prdct);\n      const productLists = [...state.products];\n      productLists.splice(index, 1);\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.LOADED,\n        products: productLists\n      });\n\n    case ProductsActionTypes.DELETE_PRODUCT_ERROR:\n      return Object.assign(Object.assign({}, state), {\n        dataState: ProductsStateEnum.ERROR,\n        errorMessage: action.payload\n      });\n\n    default:\n      return Object.assign({}, state);\n  }\n}","map":null,"metadata":{},"sourceType":"module"}